<!DOCTYPE html>
<html>
<head>
	<title>Quartz Console</title>
	<link rel="icon" href="../common/favicon.ico">
	<meta charset="utf-8">
	<script src="../common/js/socket.io.min.js"></script>
</head>
<body>
	<script>
		document.body.innerHTML = 'Connecting&hellip;';
		var socket = io.connect('http://' + document.domain + ':' + location.port);
		socket.on('connect', function() {
			console.log('connected');
			socket.emit('create');
		});

		socket.on('new_room', function(data){
			console.log('create success',data);
			socket.emit('join', {key: data.key});
		});

		socket.on('room_info', function(data){
			console.log('room info',data);
			document.body.innerHTML = '<a href="/static/overlay/overlay.html?dev&key='+data.key+'">'+data.key+'</a>';
		});

		socket.on('message', function(data){
			console.log('<<recv>>',data);
		});
	</script>
</body>
</html>